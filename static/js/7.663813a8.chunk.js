(this.webpackJsonpbio=this.webpackJsonpbio||[]).push([[7],{153:function(e,t,i){"use strict";t.a=i.p+"static/media/hana.8a690e46.png"},154:function(e,t,i){"use strict";t.a=i.p+"static/media/family.7c5d7dfd.png"},155:function(e,t,i){"use strict";t.a=i.p+"static/media/mise.ae36ef33.png"},252:function(e,t,i){"use strict";i.r(t);var o=i(241),r=i(37),n=i(0),c=i(153),s=i.p+"static/media/title.bd28112d.png",a=i(154),l=i(155),d=i(133),p=i(139),x=i(209),b=i(183),h=i.n(b),f=i(251),j=i(240),u=i.n(j),m=i(249),g=i(2),y=Object(d.a)({root:{width:"100%",height:"100vh",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",backgroundColor:"#0E073C",overflow:"hidden"},chat:{backdropFilter:"blur(10px)"}});function O(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var v=x.io.connect("https://damp-tor-27437.herokuapp.com/");t.default=function(e){var t=Object(n.useState)(""),i=Object(r.a)(t,2),d=i[0],x=i[1],b=Object(n.useState)({x:0,y:0}),j=Object(r.a)(b,2),w=j[0],F=j[1],k=Object(n.useState)([]),C=Object(r.a)(k,2),E=C[0],I=C[1],M=[O(),O(),O()];Object(n.useEffect)((function(){v.emit("joinRoom",{username:e.match.params.id,roomname:"first"})}),[]),Object(n.useEffect)((function(){v.on("message",(function(e){console.log(e);var t=E;t.push({userId:e.userId,username:e.username,text:e.text}),I(Object(o.a)(t))})),v.on("hanabi",(function(e){console.log(e),S(e.cordin,e.color)}))}),[v]);var R=Object(n.useRef)(null),S=function(e,t){u()({x:e.x,y:e.y,colors:t})};Object(n.useEffect)((function(){!function(){var e;null===(e=R.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[E]);var D=y(),J=function(){if(""!==d){var e=d;v.emit("chat",e),x("")}};return Object(g.jsx)(m.a.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},transition:{duration:1},exit:{opacity:0,y:-100},children:Object(g.jsxs)("div",{className:D.root,children:[Object(g.jsx)("div",{onClick:function(){var e;console.log("fire"),e=w,v.emit("firework",{cordin:e,colors:M})},onMouseMove:function(e){F({x:e.pageX,y:e.pageY})},style:{width:"100%",flex:1,overflow:"hidden",color:"#FFF",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)("img",{src:s,style:{filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"}})}),Object(g.jsx)("img",{src:c.a,style:{position:"fixed",bottom:0,right:"20%",width:"15%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"}}),Object(g.jsx)("img",{src:c.a,style:{position:"fixed",bottom:0,width:"20%",right:"45%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"}}),Object(g.jsx)("img",{src:c.a,style:{position:"fixed",bottom:0,width:"22%",right:"30%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"}}),Object(g.jsx)("img",{src:l.a,style:{position:"fixed",bottom:-15,width:"22%",left:0,filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"}}),Object(g.jsx)("img",{src:a.a,style:{position:"fixed",bottom:-60,width:"30%",right:"50%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"}}),Object(g.jsxs)("div",{className:D.chat,style:{position:"fixed",bottom:0,right:0,padding:"15px",color:"#FFF",backgroundColor:"rgba(0,0,0,0.4)",borderRadius:"15px"},children:[Object(g.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(g.jsx)(h.a,{style:{margin:"0 1rem"}}),Object(g.jsx)("h1",{style:{color:"red",margin:"0"},children:"\u82b1"}),Object(g.jsx)("h1",{style:{color:"yellow",margin:"0"},children:"\u706b"}),Object(g.jsx)("h1",{style:{color:"pink",margin:"0"},children:"\u5927"}),Object(g.jsx)("h1",{style:{color:"aqua",margin:"0"},children:"\u4f1a"}),Object(g.jsx)(h.a,{style:{margin:"0 1rem"}})]}),Object(g.jsx)("hr",{style:{borderColor:"rgba(255,255,255,0.3)",lineHeight:"0.3rem"}}),Object(g.jsxs)("div",{style:{height:"15rem",overflow:"auto",width:"30rem"},children:[E.map((function(e){return Object(g.jsxs)("div",{style:e.text==="".concat(e.username," \u4e5f\u52a0\u5165\u82b1\u706b\u5927\u6703\u4e86\uff0c\u6253\u8072\u62db\u547c\u5427~")?{color:"orange"}:e.text==="".concat(e.username," \u96e2\u958b\u82b1\u706b\u5927\u6703 ~")?{color:"rgba(255,255,255,0.3)"}:{},children:[e.username," : ",e.text]})})),Object(g.jsx)("div",{ref:R})]}),Object(g.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(g.jsx)(f.a,{style:{color:"#FFF",flex:1},value:d,placeholder:"\u8f38\u5165\u8a0a\u606f",inputProps:{"aria-label":"description"},onChange:function(e){x(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&J()}}),Object(g.jsx)(p.a,{onClick:J,style:{width:"100px",marginLeft:"20px",color:"#FFF",border:"2px rgba(255,255,255,.2) solid",marginTop:"20px"},children:"\u50b3\u9001"})]})]})]})})}}}]);
//# sourceMappingURL=7.663813a8.chunk.js.map