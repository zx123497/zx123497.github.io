(this.webpackJsonpbio=this.webpackJsonpbio||[]).push([[8],{183:function(e,t,o){"use strict";t.a=o.p+"static/media/hana.8a690e46.png"},184:function(e,t,o){"use strict";t.a=o.p+"static/media/family.7c5d7dfd.png"},185:function(e,t,o){"use strict";t.a=o.p+"static/media/mise.ae36ef33.png"},416:function(e,t,o){"use strict";o.r(t);var i=o(57),a=o(401),r=o(400),s=o(37),c=o(0),n=o(183),l=o.p+"static/media/title.bd28112d.png",d=o(184),b=o(185),p=o(135),u=o(409),m=o(399),j=o(220),x=o.n(j),h=o(415),g=o(268),f=o.n(g),y=o(269),O=o(413),v=o(2),w=["style"],F=Object(p.a)({root:{width:"100%",height:"100vh",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",backgroundColor:"#0E073C",overflow:"hidden"},chat:{backdropFilter:"blur(10px)"},imageDefault:{WebkitUserSelect:"none",WebkitUserDrag:"none"}}),k=m.a.connect("https://damp-tor-27437.herokuapp.com/",{forceNew:!0});function C(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}t.default=function(e){var t=Object(c.useState)(""),o=Object(s.a)(t,2),p=o[0],m=o[1],j=Object(c.useState)({x:0,y:0}),g=Object(s.a)(j,2),D=g[0],N=g[1],I=Object(c.useState)([]),E=Object(s.a)(I,2),H=E[0],S=E[1],M=[C(),C(),C()];Object(c.useEffect)((function(){return console.log("connect to server"),k.emit("joinRoom",{username:e.match.params.id,roomname:"first"}),console.log("HIHI"),function(){console.log("disconnect to server"),k.disconnect()}}),[e.match.params.id]),Object(c.useEffect)((function(){k.on("message",(function(e){console.log(e);var t=H;t.push({userId:e.userId,username:e.username,text:e.text}),S(Object(r.a)(t))})),k.on("hanabi",(function(e){console.log(e),J(e.cordin,e.color)}))}),[k]);var R=Object(c.useRef)(null),J=function(e,t){f()({x:e.x,y:e.y,colors:t})};Object(c.useEffect)((function(){R.current&&scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}),[H]);var P=F(),T=function(){if(""!==p){var e=p;k.emit("chat",e),m("")}};return Object(v.jsx)(O.a.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},transition:{duration:1},exit:{opacity:0,y:-100},children:Object(v.jsxs)("div",{className:P.root,children:[Object(v.jsx)("div",{onClick:function(){var e;console.log("fire"),e=D,k.emit("firework",{cordin:e,colors:M})},onMouseMove:function(e){N({x:e.pageX,y:e.pageY})},style:{width:"100%",flex:1,overflow:"hidden",color:"#FFF",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(v.jsx)("img",{className:P.imageDefault,src:l,style:{filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"})}),Object(v.jsx)("img",{className:P.imageDefault,src:n.a,style:{position:"absolute",bottom:0,right:"20%",width:"15%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(v.jsx)("img",{className:P.imageDefault,src:n.a,style:{position:"absolute",bottom:0,width:"20%",right:"45%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(v.jsx)("img",{className:P.imageDefault,src:n.a,style:{position:"absolute",bottom:0,width:"22%",right:"30%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(v.jsx)("img",{className:P.imageDefault,src:b.a,style:{position:"absolute",bottom:-15,width:"22%",left:0,filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(v.jsx)("img",{className:P.imageDefault,src:d.a,style:{position:"absolute",bottom:-60,width:"30%",right:"50%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(v.jsxs)("div",{className:P.chat,style:{position:"absolute",bottom:0,right:0,padding:"15px",color:"#FFF",backgroundColor:"rgba(0,0,0,0.4)",borderRadius:"15px"},children:[Object(v.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(v.jsx)(x.a,{style:{margin:"0 1rem"}}),Object(v.jsx)("h1",{style:{color:"red",margin:"0"},children:"\u82b1"}),Object(v.jsx)("h1",{style:{color:"yellow",margin:"0"},children:"\u706b"}),Object(v.jsx)("h1",{style:{color:"pink",margin:"0"},children:"\u5927"}),Object(v.jsx)("h1",{style:{color:"aqua",margin:"0"},children:"\u4f1a"}),Object(v.jsx)(x.a,{style:{margin:"0 1rem"}})]}),Object(v.jsx)("hr",{style:{borderColor:"rgba(255,255,255,0.3)",lineHeight:"0.3rem"}}),Object(v.jsx)(y.Scrollbars,{autoHide:!0,autoHeight:!0,style:{width:"100%"},renderTrackVertical:function(e){var t=e.style,o=Object(a.a)(e,w);return Object(v.jsx)("div",Object(i.a)(Object(i.a)({},o),{},{style:Object(i.a)(Object(i.a)({},t),{},{backgroundColor:"#FFF",right:"2px",bottom:"2px",top:"2px",borderRadius:"3px",width:"5px"})}))},children:Object(v.jsxs)("div",{style:{height:"15rem",width:"30rem"},children:[H.map((function(e){return Object(v.jsxs)("div",{style:e.text==="".concat(e.username," \u4e5f\u52a0\u5165\u82b1\u706b\u5927\u6703\u4e86\uff0c\u6253\u8072\u62db\u547c\u5427~")?{color:"orange"}:e.text==="".concat(e.username," \u96e2\u958b\u82b1\u706b\u5927\u6703 ~")?{color:"rgba(255,255,255,0.3)"}:{},children:[e.username," : ",e.text]})})),Object(v.jsx)("div",{ref:R})]})}),Object(v.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(v.jsx)(h.a,{style:{color:"#FFF",flex:1},value:p,placeholder:"\u8f38\u5165\u8a0a\u606f",inputProps:{"aria-label":"description"},onChange:function(e){m(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&T()}}),Object(v.jsx)(u.a,{onClick:T,style:{width:"100px",marginLeft:"20px",color:"#FFF",border:"2px rgba(255,255,255,.2) solid",marginTop:"20px"},children:"\u50b3\u9001"})]})]})]})})}}}]);
//# sourceMappingURL=8.8cca5628.chunk.js.map