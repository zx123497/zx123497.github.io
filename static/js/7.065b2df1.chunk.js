(this.webpackJsonpbio=this.webpackJsonpbio||[]).push([[7],{164:function(e,t,i){"use strict";t.a=i.p+"static/media/hana.8a690e46.png"},165:function(e,t,i){"use strict";t.a=i.p+"static/media/family.7c5d7dfd.png"},166:function(e,t,i){"use strict";t.a=i.p+"static/media/mise.ae36ef33.png"},251:function(e,t,i){"use strict";i.r(t);var a=i(241),o=i(37),r=i(0),s=i(164),c=i.p+"static/media/title.bd28112d.png",n=i(165),l=i(166),d=i(133),m=i(139),u=i(209),b=i(183),p=i.n(b),h=i(250),x=i(240),f=i.n(x),g=i(248),j=i(2),y=Object(d.a)({root:{width:"100%",height:"100vh",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",backgroundColor:"#0E073C",overflow:"hidden"},chat:{backdropFilter:"blur(10px)"},imageDefault:{WebkitUserSelect:"none",WebkitUserDrag:"none"}});function O(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}var v=u.io.connect("https://damp-tor-27437.herokuapp.com/");t.default=function(e){var t=Object(r.useState)(""),i=Object(o.a)(t,2),d=i[0],u=i[1],b=Object(r.useState)({x:0,y:0}),x=Object(o.a)(b,2),w=x[0],F=x[1],k=Object(r.useState)([]),C=Object(o.a)(k,2),D=C[0],N=C[1],E=[O(),O(),O()];Object(r.useEffect)((function(){v.emit("joinRoom",{username:e.match.params.id,roomname:"first"})}),[e.match.params.id]),Object(r.useEffect)((function(){v.on("message",(function(e){console.log(e);var t=D;t.push({userId:e.userId,username:e.username,text:e.text}),N(Object(a.a)(t))})),v.on("hanabi",(function(e){console.log(e),M(e.cordin,e.color)}))}),[v]);var I=Object(r.useRef)(null),M=function(e,t){f()({x:e.x,y:e.y,colors:t})};Object(r.useEffect)((function(){!function(){var e;null===(e=I.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[D]);var S=y(),R=function(){if(""!==d){var e=d;v.emit("chat",e),u("")}};return Object(j.jsx)(g.a.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},transition:{duration:1},exit:{opacity:0,y:-100},children:Object(j.jsxs)("div",{className:S.root,children:[Object(j.jsx)("div",{onClick:function(){var e;console.log("fire"),e=w,v.emit("firework",{cordin:e,colors:E})},onMouseMove:function(e){F({x:e.pageX,y:e.pageY})},style:{width:"100%",flex:1,overflow:"hidden",color:"#FFF",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(j.jsx)("img",{className:S.imageDefault,src:c,style:{filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"})}),Object(j.jsx)("img",{className:S.imageDefault,src:s.a,style:{position:"absolute",bottom:0,right:"20%",width:"15%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(j.jsx)("img",{className:S.imageDefault,src:s.a,style:{position:"absolute",bottom:0,width:"20%",right:"45%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(j.jsx)("img",{className:S.imageDefault,src:s.a,style:{position:"absolute",bottom:0,width:"22%",right:"30%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(j.jsx)("img",{className:S.imageDefault,src:l.a,style:{position:"absolute",bottom:-15,width:"22%",left:0,filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(j.jsx)("img",{className:S.imageDefault,src:n.a,style:{position:"absolute",bottom:-60,width:"30%",right:"50%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(j.jsxs)("div",{className:S.chat,style:{position:"absolute",bottom:0,right:0,padding:"15px",color:"#FFF",backgroundColor:"rgba(0,0,0,0.4)",borderRadius:"15px"},children:[Object(j.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(j.jsx)(p.a,{style:{margin:"0 1rem"}}),Object(j.jsx)("h1",{style:{color:"red",margin:"0"},children:"\u82b1"}),Object(j.jsx)("h1",{style:{color:"yellow",margin:"0"},children:"\u706b"}),Object(j.jsx)("h1",{style:{color:"pink",margin:"0"},children:"\u5927"}),Object(j.jsx)("h1",{style:{color:"aqua",margin:"0"},children:"\u4f1a"}),Object(j.jsx)(p.a,{style:{margin:"0 1rem"}})]}),Object(j.jsx)("hr",{style:{borderColor:"rgba(255,255,255,0.3)",lineHeight:"0.3rem"}}),Object(j.jsxs)("div",{style:{height:"15rem",overflow:"auto",width:"30rem"},children:[D.map((function(e){return Object(j.jsxs)("div",{style:e.text==="".concat(e.username," \u4e5f\u52a0\u5165\u82b1\u706b\u5927\u6703\u4e86\uff0c\u6253\u8072\u62db\u547c\u5427~")?{color:"orange"}:e.text==="".concat(e.username," \u96e2\u958b\u82b1\u706b\u5927\u6703 ~")?{color:"rgba(255,255,255,0.3)"}:{},children:[e.username," : ",e.text]})})),Object(j.jsx)("div",{ref:I})]}),Object(j.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(j.jsx)(h.a,{style:{color:"#FFF",flex:1},value:d,placeholder:"\u8f38\u5165\u8a0a\u606f",inputProps:{"aria-label":"description"},onChange:function(e){u(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&R()}}),Object(j.jsx)(m.a,{onClick:R,style:{width:"100px",marginLeft:"20px",color:"#FFF",border:"2px rgba(255,255,255,.2) solid",marginTop:"20px"},children:"\u50b3\u9001"})]})]})]})})}}}]);
//# sourceMappingURL=7.065b2df1.chunk.js.map