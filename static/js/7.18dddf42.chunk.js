(this.webpackJsonpbio=this.webpackJsonpbio||[]).push([[7],{164:function(t,e,o){"use strict";e.a=o.p+"static/media/hana.8a690e46.png"},165:function(t,e,o){"use strict";e.a=o.p+"static/media/family.7c5d7dfd.png"},166:function(t,e,o){"use strict";e.a=o.p+"static/media/mise.ae36ef33.png"},251:function(t,e,o){"use strict";o.r(e);var i=o(241),r=o(37),a=o(0),s=o(164),n=o.p+"static/media/title.bd28112d.png",c=o(165),l=o(166),d=o(133),p=o(139),b=o(209),u=o(183),h=o.n(u),m=o(250),x=o(240),j=o.n(x),f=o(248),g=o(2),y=Object(d.a)({root:{width:"100%",height:"100vh",justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column",backgroundColor:"#0E073C",overflow:"hidden"},chat:{backdropFilter:"blur(10px)"}});function O(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}var v=b.io.connect("https://damp-tor-27437.herokuapp.com/");e.default=function(t){var e=Object(a.useState)(""),o=Object(r.a)(e,2),d=o[0],b=o[1],u=Object(a.useState)({x:0,y:0}),x=Object(r.a)(u,2),w=x[0],F=x[1],k=Object(a.useState)([]),C=Object(r.a)(k,2),E=C[0],I=C[1],M=[O(),O(),O()];Object(a.useEffect)((function(){v.emit("joinRoom",{username:t.match.params.id,roomname:"first"})}),[t.match.params.id]),Object(a.useEffect)((function(){v.on("message",(function(t){console.log(t);var e=E;e.push({userId:t.userId,username:t.username,text:t.text}),I(Object(i.a)(e))})),v.on("hanabi",(function(t){console.log(t),S(t.cordin,t.color)}))}),[v]);var R=Object(a.useRef)(null),S=function(t,e){j()({x:t.x,y:t.y,colors:e})};Object(a.useEffect)((function(){!function(){var t;null===(t=R.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})}()}),[E]);var D=y(),J=function(){if(""!==d){var t=d;v.emit("chat",t),b("")}};return Object(g.jsx)(f.a.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},transition:{duration:1},exit:{opacity:0,y:-100},children:Object(g.jsxs)("div",{className:D.root,children:[Object(g.jsx)("div",{onClick:function(){var t;console.log("fire"),t=w,v.emit("firework",{cordin:t,colors:M})},onMouseMove:function(t){F({x:t.pageX,y:t.pageY})},style:{width:"100%",flex:1,overflow:"hidden",color:"#FFF",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(g.jsx)("img",{src:n,style:{filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"})}),Object(g.jsx)("img",{src:s.a,style:{position:"absolute",bottom:0,right:"20%",width:"15%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(g.jsx)("img",{src:s.a,style:{position:"absolute",bottom:0,width:"20%",right:"45%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(g.jsx)("img",{src:s.a,style:{position:"absolute",bottom:0,width:"22%",right:"30%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(g.jsx)("img",{src:l.a,style:{position:"absolute",bottom:-15,width:"22%",left:0,filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(g.jsx)("img",{src:c.a,style:{position:"absolute",bottom:-60,width:"30%",right:"50%",filter:"drop-shadow(0px 0px 6px rgba(0, 0, 0, 0.3))"},alt:"img"}),Object(g.jsxs)("div",{className:D.chat,style:{position:"absolute",bottom:0,right:0,padding:"15px",color:"#FFF",backgroundColor:"rgba(0,0,0,0.4)",borderRadius:"15px"},children:[Object(g.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(g.jsx)(h.a,{style:{margin:"0 1rem"}}),Object(g.jsx)("h1",{style:{color:"red",margin:"0"},children:"\u82b1"}),Object(g.jsx)("h1",{style:{color:"yellow",margin:"0"},children:"\u706b"}),Object(g.jsx)("h1",{style:{color:"pink",margin:"0"},children:"\u5927"}),Object(g.jsx)("h1",{style:{color:"aqua",margin:"0"},children:"\u4f1a"}),Object(g.jsx)(h.a,{style:{margin:"0 1rem"}})]}),Object(g.jsx)("hr",{style:{borderColor:"rgba(255,255,255,0.3)",lineHeight:"0.3rem"}}),Object(g.jsxs)("div",{style:{height:"15rem",overflow:"auto",width:"30rem"},children:[E.map((function(t){return Object(g.jsxs)("div",{style:t.text==="".concat(t.username," \u4e5f\u52a0\u5165\u82b1\u706b\u5927\u6703\u4e86\uff0c\u6253\u8072\u62db\u547c\u5427~")?{color:"orange"}:t.text==="".concat(t.username," \u96e2\u958b\u82b1\u706b\u5927\u6703 ~")?{color:"rgba(255,255,255,0.3)"}:{},children:[t.username," : ",t.text]})})),Object(g.jsx)("div",{ref:R})]}),Object(g.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(g.jsx)(m.a,{style:{color:"#FFF",flex:1},value:d,placeholder:"\u8f38\u5165\u8a0a\u606f",inputProps:{"aria-label":"description"},onChange:function(t){b(t.target.value)},onKeyPress:function(t){"Enter"===t.key&&J()}}),Object(g.jsx)(p.a,{onClick:J,style:{width:"100px",marginLeft:"20px",color:"#FFF",border:"2px rgba(255,255,255,.2) solid",marginTop:"20px"},children:"\u50b3\u9001"})]})]})]})})}}}]);
//# sourceMappingURL=7.18dddf42.chunk.js.map